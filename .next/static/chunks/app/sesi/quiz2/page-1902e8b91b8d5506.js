(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1471:function(e,t,l){Promise.resolve().then(l.bind(l,2718))},6648:function(e,t,l){"use strict";l.d(t,{default:function(){return n.a}});var a=l(5601),n=l.n(a)},5601:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return o},getImageProps:function(){return r}});let a=l(9920),n=l(497),i=l(8173),s=a._(l(1241));function r(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let o=i.Image},2718:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return w}});var a=l(7437),n=l(1927),i=l(9343),s=l(7753),r=l(4245);let o=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],d=(0,r.Ry)().shape({file:(0,r.nK)().required("File is required").test("fileType","Unsupported File Format",e=>!e.length||e&&o.includes(e[0].type))});var c=l(8472),u=l(2265),f=l(6463),x=l(6761),p=e=>{let{data:t}=e,{goNextQuestion:l,goPreviousQuestion:r,onCompleteQuestions:o,currentQuestion:p,questions:m,saveUploadedFileName:h,isLoading:b,setLoading:g,markQuestionAsAnswered:w}=(0,n.Z)(),{noUjian:y,kodeDesa:j}=(0,x.Z)(),v=(0,f.useRouter)(),{register:N,handleSubmit:k,formState:{errors:E},setValue:S,reset:Z}=(0,i.cI)({resolver:(0,s.X)(d)});(0,u.useEffect)(()=>{let e=localStorage.getItem("uploadedFile-".concat(p));e&&(S("file",{name:e}),h(e))},[p,S,h]);let _=async(e,t)=>{if(e.file.length){let l=new FormData;l.append("file",e.file[0]),l.append("noUjian",y),l.append("kodeDesa",j),l.append("tipeSoal",0===t?"docx":"xlsx"),g(!0);try{let{fileName:e}=(await c.Z.post("http://18.141.142.63:8080/upload",l,{headers:{"Content-Type":"multipart/form-data"}})).data;h(e),w(p),localStorage.setItem("uploadedFile-".concat(p),e)}catch(e){console.error("Error uploading file:",e)}finally{g(!1)}}},C=async e=>{await _(e,p)};async function A(){try{let e=await fetch("http://18.141.142.63:8080/download/NAMA_Simulasi.docx",{method:"GET"});if(!e.ok)throw Error("Network response was not ok");let t=await e.blob(),l=window.URL.createObjectURL(t),a=document.createElement("a");a.href=l;let n=e.headers.get("Content-Disposition"),i="NAMA.docx";if(n){let e=n.match(/filename="(.+)"/);e[1]&&(i=e[1])}a.setAttribute("download",i),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)}catch(e){console.error("Error downloading the file:",e),alert("Gagal Mendownload Data")}}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{onSubmit:k(C),className:"flex flex-col gap-y-4 justify-center w-full",children:[p+1===1&&(0,a.jsx)("button",{onClick:A,className:"btn btn-primary text-white mb-14",children:"DOWNLOAD FILE"}),(0,a.jsx)("input",{type:"file",accept:".doc,.docx,.xls,.xlsx,.csv",...N("file"),className:"file-input file-input-bordered w-full ".concat(E.file?"border-red-500":""),disabled:b}),E.file&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:E.file.message}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary bg-third text-white mt-2 self-center",disabled:b,children:b?"Mengirim Jawaban...":"Kirim Jawaban"}),(0,a.jsx)("p",{className:"text-xs",children:"Klik Tombol Kirim Jawaban Supaya Jawaban disimpan"})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)("button",{onClick:()=>{r(),Z()},disabled:0===p||b,className:"btn bg-gray-400 text-white",children:"Kembali"}),(0,a.jsx)("button",{onClick:()=>{p+1===m.length?confirm("Apakah anda sudah yakin dengan jawaban anda?")&&(o(y,j),v.push("/sesi")):(l(),Z())},className:"bg-purple py-2 px-4 rounded-lg shadow-lg btn-primary bg-third text-white font-semibold text-sm",disabled:b,children:p+1===m.length?"Selesaikan":"Berikutnya"})]})]})},m=l(6648),h=e=>{var t;let{data:l}=e;return(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-dark-blue  xs:text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl font-bold",children:(0,a.jsx)(m.default,{src:null==l?void 0:null===(t=l.soalText)||void 0===t?void 0:t.src,height:700,width:700})})})},b=()=>{let{questions:e,currentQuestion:t}=(0,n.Z)(),l=e[t];return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 lg:px-6 lg:py-4 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-7xl px-4",children:[(0,a.jsxs)("p",{className:"italic text-sm md:text-base lg:text-lg text-gray-700 ",children:["Pertanyaan ",t+1," dari ",e.length]}),(0,a.jsx)(h,{data:l})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4 w-full max-w-7xl px-4",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(p,{data:l})})})]})},g=l(7278);function w(){let{hasCompletedSection2:e,isSection2Locked:t}=(0,n.Z)();return(0,g.Z)({section:2}),(0,a.jsx)("div",{children:(0,a.jsx)(b,{})})}},7278:function(e,t,l){"use strict";var a=l(2265),n=l(6463),i=l(7466),s=l(6241),r=l(1927),o=l(6761);t.Z=e=>{let{section:t}=e,l=(0,n.useRouter)(),{getRemainingTime:d,isQuestionPlayable:c}=(0,i.Z)(),{hasCompletedSection1:u,isQuiz1Finished:f,isQuiz1Restricted:x,fetchStatusQuiz:p}=(0,s.Z)(),{hasCompletedSection2:m,isQuiz2Finished:h,isQuiz2Restricted:b,isSection2Locked:g,fetchStatusQuiz2:w}=(0,r.Z)(),{noUjian:y,kodeDesa:j}=(0,o.Z)(),[v,N]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{1===t?await p(y,j):2===t&&await w(y,j),N(!0)})()},[t,y,j,p,w]),(0,a.useEffect)(()=>{if(!v)return;let e=d(t),a=c(t);1===t?(!a||e<=0||f||x)&&l.push("/sesi"):2===t&&(!u||!a||e<=0||g||h||b)&&l.push("/sesi")},[v,t,d,c,u,m,g,f,x,h,b,l]),null}}},function(e){e.O(0,[461,472,343,173,280,897,971,23,744],function(){return e(e.s=1471)}),_N_E=e.O()}]);