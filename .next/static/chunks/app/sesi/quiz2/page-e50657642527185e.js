(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1471:function(e,t,l){Promise.resolve().then(l.bind(l,2718))},6648:function(e,t,l){"use strict";l.d(t,{default:function(){return n.a}});var a=l(5601),n=l.n(a)},5601:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var l in t)Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}(t,{default:function(){return d},getImageProps:function(){return r}});let a=l(9920),n=l(497),i=l(8173),s=a._(l(1241));function r(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,l]of Object.entries(t))void 0===l&&delete t[e];return{props:t}}let d=i.Image},2718:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return w}});var a=l(7437),n=l(9082),i=l(9343),s=l(7753),r=l(4245);let d=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],c=(0,r.Ry)().shape({file:(0,r.nK)().required("File is required").test("fileType","Unsupported File Format",e=>!e.length||e&&d.includes(e[0].type))});var o=l(8472),u=l(2265),f=l(6463),x=l(6761),p=e=>{let{data:t}=e,{goNextQuestion:l,goPreviousQuestion:r,onCompleteQuestions:d,currentQuestion:p,questions:m,saveUploadedFileName:h,isLoading:g,setLoading:b,markQuestionAsAnswered:w}=(0,n.Z)(),{noUjian:j,kodeDesa:y}=(0,x.Z)(),v=(0,f.useRouter)(),{register:N,handleSubmit:k,formState:{errors:S},setValue:Z,reset:_}=(0,i.cI)({resolver:(0,s.X)(c)});(0,u.useEffect)(()=>{let e=localStorage.getItem("uploadedFile-".concat(p));e&&(Z("file",{name:e}),h(e))},[p,Z,h]);let F=async e=>{if(e.file.length){let t=new FormData;t.append("file",e.file[0]),t.append("noUjian",j),t.append("kodeDesa",y),t.append("tipeSoal",e.file[0].name.split(".").pop()),b(!0);try{let{fileName:e}=(await o.Z.post("http://3.0.20.136:8080/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data;h(e),w(p),localStorage.setItem("uploadedFile-".concat(p),e)}catch(e){console.error("Error uploading file:",e)}finally{b(!1)}}},E=async e=>{await F(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("form",{onSubmit:k(E),className:"flex flex-col gap-y-4 justify-center w-full",children:[p+1===1&&(0,a.jsx)("a",{href:null==t?void 0:t.linkFile,className:"btn btn-primary text-white mb-14",children:"DOWNLOAD FILE"}),(0,a.jsx)("input",{type:"file",accept:".doc,.docx,.xls,.xlsx,.csv",...N("file"),className:"file-input file-input-bordered w-full ".concat(S.file?"border-red-500":""),disabled:g}),S.file&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:S.file.message}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary bg-third text-white mt-2 self-center",disabled:g,children:g?"Mengirim Jawaban...":"Kirim Jawaban"}),(0,a.jsx)("p",{className:"text-xs",children:"Klik Tombol Kirim Jawaban Supaya Jawaban disimpan"})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)("button",{onClick:()=>{r(),_()},disabled:0===p||g,className:"btn bg-gray-400 text-white",children:"Kembali"}),(0,a.jsx)("button",{onClick:()=>{p+1===m.length?confirm("Apakah anda sudah yakin dengan jawaban anda?")&&(d(j,y),v.push("/sesi")):(l(),_())},className:"bg-purple py-2 px-4 rounded-lg shadow-lg btn-primary bg-third text-white font-semibold text-sm",disabled:g,children:p+1===m.length?"Selesaikan":"Berikutnya"})]})]})},m=l(6648),h=e=>{var t;let{data:l}=e;return(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-dark-blue dark:text-white xs:text-lg md:text-xl lg:text-2xl xl:text-3xl 2xl:text-4xl font-bold",children:(0,a.jsx)(m.default,{src:null==l?void 0:null===(t=l.soalText)||void 0===t?void 0:t.src,height:700,width:700})})})},g=()=>{let{questions:e,currentQuestion:t}=(0,n.Z)(),l=e[t];return(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 lg:px-6 lg:py-4 w-full",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-7xl px-4",children:[(0,a.jsxs)("p",{className:"italic text-sm md:text-base lg:text-lg text-gray-700 dark:text-gray-300",children:["Pertanyaan ",t+1," dari ",e.length]}),(0,a.jsx)(h,{data:l})]}),(0,a.jsx)("div",{className:"flex flex-col gap-4 w-full max-w-7xl px-4",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(p,{data:l})})})]})},b=l(7278);function w(){let{hasCompletedSection2:e,isSection2Locked:t}=(0,n.Z)();return(0,b.Z)({section:2}),(0,a.jsx)("div",{children:(0,a.jsx)(g,{})})}},7278:function(e,t,l){"use strict";var a=l(2265),n=l(6463),i=l(7466),s=l(6241),r=l(9082),d=l(6761);t.Z=e=>{let{section:t}=e,l=(0,n.useRouter)(),{getRemainingTime:c,isQuestionPlayable:o}=(0,i.Z)(),{hasCompletedSection1:u,isQuiz1Finished:f,isQuiz1Restricted:x,fetchStatusQuiz:p}=(0,s.Z)(),{hasCompletedSection2:m,isQuiz2Finished:h,isQuiz2Restricted:g,isSection2Locked:b,fetchStatusQuiz2:w}=(0,r.Z)(),{noUjian:j,kodeDesa:y}=(0,d.Z)(),[v,N]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>{1===t?await p(j,y):2===t&&await w(j,y),N(!0)})()},[t,j,y,p,w]),(0,a.useEffect)(()=>{if(!v)return;let e=c(t),a=o(t);1===t?(!a||e<=0||f||x)&&l.push("/sesi"):2===t&&(!u||!a||e<=0||b||h||g)&&l.push("/sesi")},[v,t,c,o,u,m,b,f,x,h,g,l]),null}}},function(e){e.O(0,[461,472,343,173,280,897,971,23,744],function(){return e(e.s=1471)}),_N_E=e.O()}]);