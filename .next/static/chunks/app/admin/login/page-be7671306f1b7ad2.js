(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{8982:function(e,s,r){Promise.resolve().then(r.bind(r,9344))},9344:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return c}});var a=r(7437),t=r(2265),n=r(9343),o=r(7753),l=r(4245);let d=(0,l.Ry)({username:(0,l.Z_)().required("Username Harus Diisi"),password:(0,l.Z_)().required(" Harus Diisi")});var u=r(2234),i=r(6463),m=r(8472);function c(){let[e,s]=(0,t.useState)(!1),[r,l]=(0,t.useState)(null),c=(0,u.Z)(e=>e.login),b=(0,i.useRouter)(),{register:f,handleSubmit:x,formState:{errors:h},reset:p}=(0,n.cI)({resolver:(0,o.X)(d)}),g=async e=>{let{username:r,password:a}=e;s(!0),l(null);try{let e=await m.Z.post("http://18.141.142.63:8080/admin",{username:r,password:a});if(e.data&&e.data.result&&e.data.result.admin)c(e.data.result.admin.username,e.data.result.admin.password),b.push("/admin"),p();else throw Error("Invalid response from server")}catch(e){var t,n;console.error("Login error:",e),l((null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.message)||"Gagal login karena username atau password salah")}finally{s(!1)}};return(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsxs)("form",{onSubmit:x(g),className:"bg-white p-8 rounded shadow-md w-full max-w-sm",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Admin Login"}),r&&(0,a.jsx)("div",{className:"mb-4 text-red-500 text-sm",children:r}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,a.jsx)("input",{id:"username",type:"text",...f("username"),className:"mt-1 block w-full px-3 py-2 border ".concat(h.username?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm")}),h.username&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.username.message})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsx)("input",{id:"password",type:"password",...f("password"),className:"mt-1 block w-full px-3 py-2 border ".concat(h.password?"border-red-500":"border-gray-300"," rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm")}),h.password&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.password.message})]}),(0,a.jsx)("button",{type:"submit",className:"w-full py-2 px-4 rounded-md text-white ".concat(e?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"),disabled:e,children:e?"Logging in...":"Login"})]})})}},2234:function(e,s,r){"use strict";var a=r(9099),t=r(9291);let n=(0,a.Ue)((0,t.tJ)(e=>({username:"",password:"",isAuthAdmin:!1,login:(s,r)=>e({username:s,password:r,isAuthAdmin:!0}),logout:()=>e({username:"",password:"",isAuthAdmin:!1})}),{name:"auth-admin-storage"}));s.Z=n}},function(e){e.O(0,[461,472,343,280,971,23,744],function(){return e(e.s=8982)}),_N_E=e.O()}]);